<div class="upload-container"
     (dragover)="this.onDragOver($event)"
     (drop)="this.onDrop($event)"
     (dragleave)="this.onDragLeave($event)"
     [class.dragover]="this.isDragOver">

    <mat-icon class="upload-icon">cloud_upload</mat-icon>
    <p>Drag & Drop your file here</p>
    <p>or</p>

    <button mat-raised-button color="primary" (click)="fileInput.click()">
        <mat-icon>upload</mat-icon>
        Choose File
    </button>

    <input type="file" hidden (change)="this.onFileSelected($event)" #fileInput/>
</div>

@if (this.selectedFile && !this.autoUpload) {
    <div class="file-info">
        <p><strong>Selected:</strong> {{ this.selectedFile.name }}</p>
        <button mat-button color="warn" (click)="this.clearFile()">Clear</button>
    </div>

    <div>
        <button mat-raised-button color="accent" (click)="this.uploadFile()">Upload</button>
    </div>
}

@if (this.isUploading) {
    <div class="upload-progress">
        <mat-spinner diameter="30"></mat-spinner>
        <p>Uploading Chart...</p>
    </div>
}

@if (this.uploadedChartInfo && !this.uploadedChartInfo.success) {
    <div>
        <p>{{ this.uploadedChartInfo.message }}</p>
    </div>
}
