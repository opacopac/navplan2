<mat-form-field class="search-field" subscriptSizing="dynamic">
    <input
        #query
        matInput
        [matAutocomplete]="auto"
        type="text"
        placeholder="search for AD, navaid, city, coordinates"
        (input)="this.onSearchInputChange.emit(query.value)"
    />
    <mat-icon matPrefix>search</mat-icon>
    <mat-icon matSuffix (click)="this.onSearchResultsCleared.emit(); query.value = '';">close</mat-icon>
    <mat-autocomplete
        #auto="matAutocomplete"
        [displayWith]="getDisplayName"
        (optionSelected)="this.onResultSelected.emit($event.option.value)">
        @for (result of this.searchResults?.items; track result) {
            <mat-option [value]="result">{{ this.getDisplayName(result) }}</mat-option>
        }
    </mat-autocomplete>
</mat-form-field>
