RewriteEngine On
#RewriteBase /v2/api/
RewriteBase /api/

# Define the php base path
#RewriteRule ^ - [E=BASEPATH:/v2/php/Navplan/]
RewriteRule ^ - [E=BASEPATH:/php/Navplan/]


### aircrafts ###

# Rewrite for /api/aircrafts
RewriteRule ^aircrafts$ %{ENV:BASEPATH}Aircraft/Aircraft.php [L,QSA]

# Rewrite for /api/aircrafts/{id}
RewriteRule ^aircrafts/(\d+)$ %{ENV:BASEPATH}Aircraft/Aircraft.php?id=$1 [L,QSA]

# Rewrite for /api/aircrafts/{id}/{action}
RewriteCond %{REQUEST_METHOD} ^(POST|PUT)$
RewriteRule ^aircrafts/(\d+)/([^/]+)$ %{ENV:BASEPATH}Aircraft/Aircraft.php?id=$1&action=$2 [L,QSA]


### flight routes ###

# Rewrite for /api/flightroutes
RewriteRule ^flightroutes$ %{ENV:BASEPATH}Flightroute/Flightroute.php [L,QSA]

# Rewrite for /api/flightroutes/{id}
RewriteRule ^flightroutes/(\d+)$ %{ENV:BASEPATH}Flightroute/Flightroute.php?id=$1 [L,QSA]

# Rewrite for /api/flightroutes/{id}/{action}
RewriteCond %{REQUEST_METHOD} ^(POST|PUT)$
RewriteRule ^flightroutes/(\d+)/([^/]+)$ %{ENV:BASEPATH}Flightroute/Flightroute.php?id=$1&action=$2 [L,QSA]

